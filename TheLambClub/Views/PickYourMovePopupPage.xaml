<?xml version="1.0" encoding="utf-8" ?>
<toolkit:Popup
    x:Class="TheLambClub.Views.PickYourMovePopupPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:m="clr-namespace:TheLambClub.Models"
    xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
    xmlns:vm="clr-namespace:TheLambClub.ViewModel"
    x:DataType="vm:PickYourMovePromptPageVM"
    CanBeDismissedByTappingOutsideOfPopup="False">
    <Grid
        Padding="10"
        ColumnDefinitions="*,2*"
        ColumnSpacing="0"
        RowDefinitions="*,Auto">
        <VerticalStackLayout
            Grid.Column="0"
            Grid.Row="0"
            Spacing="0"
            VerticalOptions="Center">
            <Button
                BackgroundColor="DarkBlue"
                Command="{Binding Stay}"
                CornerRadius="15"
                FontSize="20"
                Text="{Binding CheckOrFold}"
                TextColor="White" />
            <Button
                BackgroundColor="DarkBlue"
                Command="{Binding Fold}"
                CornerRadius="15"
                FontSize="20"
                Text="{x:Static m:Strings.FoldBtnTxt}"
                TextColor="White" />
            <Button
                BackgroundColor="DarkSlateGray"
                Command="{Binding GetSuggestionCommand}"
                CornerRadius="15"
                FontSize="16"
                IsEnabled="{Binding CanRequestSuggestion}"
                Text="Get AI suggestion"
                TextColor="White" />
            <Border Padding="0" BackgroundColor="Black">
                <Label
                    x:Name="TimeLeft"
                    BackgroundColor="White"
                    FontSize="20"
                    HorizontalOptions="Center"
                    Text="{Binding TimeLeft}"
                    VerticalOptions="Center" />
            </Border>
        </VerticalStackLayout>
        <VerticalStackLayout
            Grid.Column="1"
            Grid.Row="0"
            HorizontalOptions="Center"
            Spacing="0"
            VerticalOptions="Center">
            <Label
                FontSize="20"
                HorizontalOptions="Center"
                Text="{Binding BetAmountStr}" />
            <Slider
                Maximum="{Binding MaxBet}"
                Minimum="{Binding MinBet}"
                WidthRequest="200"
                Value="{Binding BetAmount}" />
            <Button Command="{Binding SubmitBetCommand}" Text="{x:Static m:Strings.SubmitBetBtn}" />
        </VerticalStackLayout>
        <VerticalStackLayout
            Grid.Column="0"
            Grid.ColumnSpan="2"
            Grid.Row="1"
            Padding="0,8"
            VerticalOptions="End">
            <Label
                FontSize="10"
                HorizontalTextAlignment="Center"
                IsVisible="{Binding AiSuggestionVisible}"
                Text="{Binding AiSuggestionText}"
                TextColor="DarkBlue" />
            <ActivityIndicator
                HorizontalOptions="Center"
                IsRunning="{Binding IsLoadingSuggestion}"
                IsVisible="{Binding IsLoadingSuggestion}" />
        </VerticalStackLayout>
    </Grid>
</toolkit:Popup>